<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Request Form</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        padding: 20px;
        line-height: 1.6;
      }

      .form-container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }

      .form-header {
        background: linear-gradient(135deg, #0070d2 0%, #0056a3 100%);
        color: white;
        padding: 40px 30px;
        text-align: center;
      }

      .form-header h1 {
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 10px;
      }

      .form-header p {
        font-size: 16px;
        opacity: 0.95;
      }

      .form-content {
        padding: 40px 30px;
      }

      .info-box {
        background: #f0f7ff;
        border-left: 4px solid #0070d2;
        padding: 20px;
        margin-bottom: 30px;
        border-radius: 8px;
        font-size: 14px;
        line-height: 1.6;
      }

      .info-box strong {
        display: block;
        margin-bottom: 10px;
        color: #0056a3;
      }

      .required-note {
        font-style: italic;
        color: #666;
        margin-bottom: 30px;
        font-size: 14px;
      }

      .section-title {
        font-size: 22px;
        font-weight: 700;
        color: #333;
        margin: 40px 0 20px 0;
        padding-bottom: 10px;
        border-bottom: 3px solid #0070d2;
      }

      .form-group {
        margin-bottom: 24px;
      }

      .form-group label {
        display: block;
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
        font-size: 14px;
      }

      .form-group input[type="text"],
      .form-group input[type="email"],
      .form-group input[type="date"],
      .form-group input[type="time"],
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 15px;
        font-family: inherit;
        transition: all 0.3s ease;
        background: white;
      }

      .form-group input[type="text"]:focus,
      .form-group input[type="email"]:focus,
      .form-group input[type="date"]:focus,
      .form-group input[type="time"]:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #0070d2;
        box-shadow: 0 0 0 3px rgba(0, 112, 210, 0.1);
      }

      .form-group textarea {
        resize: vertical;
        min-height: 100px;
      }

      .form-group select[multiple] {
        min-height: 120px;
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }

      .book-categories {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 16px;
        margin-top: 20px;
      }

      .book-input-group {
        display: flex;
        flex-direction: column;
      }

      .book-input-group label {
        font-size: 13px;
        font-weight: 500;
        color: #555;
        margin-bottom: 6px;
      }

      .book-input-group input {
        padding: 10px 14px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 14px;
        transition: all 0.3s ease;
      }

      .book-input-group input:focus {
        outline: none;
        border-color: #0070d2;
        box-shadow: 0 0 0 3px rgba(0, 112, 210, 0.1);
      }

      .submit-btn {
        background: linear-gradient(135deg, #0070d2 0%, #0056a3 100%);
        color: white;
        border: none;
        padding: 16px 48px;
        font-size: 16px;
        font-weight: 700;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
        margin-top: 30px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 112, 210, 0.3);
      }

      .submit-btn:active {
        transform: translateY(0);
      }

      /* Custom Alert Styles */
      #customAlertBox {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        border-radius: 16px;
        padding: 30px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        z-index: 9999;
        text-align: center;
        max-width: 450px;
        width: 90%;
        animation: slideIn 0.3s ease;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translate(-50%, -60%);
        }
        to {
          opacity: 1;
          transform: translate(-50%, -50%);
        }
      }

      #customAlertMsg {
        margin-bottom: 20px;
        font-size: 16px;
        color: #333;
        line-height: 1.5;
      }

      #customAlertBox button {
        background: linear-gradient(135deg, #0070d2 0%, #0056a3 100%);
        color: white;
        border: none;
        padding: 12px 32px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 15px;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      #customAlertBox button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0, 112, 210, 0.3);
      }

      #customAlertOverlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        z-index: 9998;
        animation: fadeIn 0.3s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        body {
          padding: 10px;
        }

        .form-header {
          padding: 30px 20px;
        }

        .form-header h1 {
          font-size: 24px;
        }

        .form-content {
          padding: 30px 20px;
        }

        .form-row {
          grid-template-columns: 1fr;
        }

        .book-categories {
          grid-template-columns: 1fr;
        }

        .section-title {
          font-size: 20px;
        }

        .submit-btn {
          padding: 14px 32px;
        }
      }

      @media (max-width: 480px) {
        .form-header h1 {
          font-size: 20px;
        }

        .form-header p {
          font-size: 14px;
        }

        .form-content {
          padding: 20px 15px;
        }

        .info-box {
          padding: 15px;
          font-size: 13px;
        }

        .section-title {
          font-size: 18px;
          margin: 30px 0 15px 0;
        }
      }
    </style>
  </head>
  <body>
    <!-- Custom Alert -->
    <div id="customAlertBox">
      <div id="customAlertMsg"></div>
      <button onclick="closeAlert()">OK</button>
    </div>

    <div class="form-container">
      <div class="form-content">
        <p class="required-note">*Indicates a required field</p>

        <form
          id="webToLeadForm"
          action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8"
          method="POST"
          target="_parent"
        >
          <input name="oid" type="hidden" value="00D8c00000176n8" />
          <input
            name="retURL"
            type="hidden"
            value="https://promising-pages.org/book-request-submitted/"
          />
          <input name="lead_source" type="hidden" value="Web" />
          <input name="recordType" type="hidden" value="0128c000001e1kK" />

          <!-- Hidden fields for Salesforce -->
          <input type="hidden" id="pickupHidden" name="00N8c00000aEJox" />
          <input type="hidden" id="pickupTimeHidden" name="00N8c00000e0Wwy" />
          <input type="hidden" id="expectedHidden" name="00N8c00000dxTkW" />

          <h2 class="section-title">Contact Information</h2>

          <div class="form-row">
            <div class="form-group">
              <label for="first_name">First Name*</label>
              <input
                id="first_name"
                name="first_name"
                type="text"
                maxlength="40"
                required
              />
            </div>
            <div class="form-group">
              <label for="last_name">Last Name*</label>
              <input
                id="last_name"
                name="last_name"
                type="text"
                maxlength="80"
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email Address*</label>
            <input
              id="email"
              name="email"
              type="email"
              maxlength="80"
              required
            />
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="company">Organization/School Name*</label>
              <input
                id="company"
                name="company"
                type="text"
                maxlength="80"
                required
              />
            </div>
            <div class="form-group">
              <label for="title">Title</label>
              <input id="title" name="title" type="text" maxlength="40" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="phone">Phone Number*</label>
              <input
                id="phone"
                name="phone"
                type="text"
                maxlength="40"
                required
              />
            </div>
            <div class="form-group">
              <label for="00N8c00000G6A2B">Preferred Phone Type</label>
              <select name="00N8c00000G6A2B">
                <option value="">--Select--</option>
                <option value="Home">Home</option>
                <option value="Work">Work</option>
                <option value="Mobile">Mobile</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>

          <h2 class="section-title">Address Information</h2>

          <div class="form-group">
            <label for="street">Street Address*</label>
            <textarea name="street" id="street" required></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="city">City*</label>
              <input
                id="city"
                name="city"
                type="text"
                maxlength="40"
                required
              />
            </div>
            <div class="form-group">
              <label for="state">State/Province*</label>
              <input
                id="state"
                name="state"
                type="text"
                maxlength="20"
                required
              />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="zip">Zip Code*</label>
              <input id="zip" name="zip" type="text" maxlength="20" required />
            </div>
            <div class="form-group">
              <label for="country">Country*</label>
              <input
                id="country"
                name="country"
                type="text"
                maxlength="40"
                value="United States"
                required
              />
            </div>
          </div>

          <h2 class="section-title">Books Information</h2>

          <p style="font-weight: 600; margin-bottom: 16px; color: #555">
            Please provide the number of books for each category:
          </p>

          <div class="book-categories">
            <div class="book-input-group">
              <label for="00N8c00000aEJnu">Board Books (Birth - Pre-K)</label>
              <input id="00N8c00000aEJnu" name="00N8c00000aEJnu" type="text" />
            </div>
            <div class="book-input-group">
              <label for="00N8c00000aEJnz"
                >Picture Books (Pre-K - 2nd Grade)</label
              >
              <input id="00N8c00000aEJnz" name="00N8c00000aEJnz" type="text" />
            </div>
            <div class="book-input-group">
              <label for="00N8c00000aEJo9"
                >Early Chapter/Advanced Picture (2nd - 4th Grade)</label
              >
              <input id="00N8c00000aEJo9" name="00N8c00000aEJo9" type="text" />
            </div>
            <div class="book-input-group">
              <label for="00N8c00000aEJoE"
                >Upper Chapter Books (4th - 5th Grade)</label
              >
              <input id="00N8c00000aEJoE" name="00N8c00000aEJoE" type="text" />
            </div>
            <div class="book-input-group">
              <label for="00N8c00000aEJoJ"
                >Middle School Books (6th - 8th Grade)</label
              >
              <input id="00N8c00000aEJoJ" name="00N8c00000aEJoJ" type="text" />
            </div>
            <div class="book-input-group">
              <label for="00N8c00000e09tp"
                >High School Books (9th - 12th Grade)</label
              >
              <input id="00N8c00000e09tp" name="00N8c00000e09tp" type="text" />
            </div>
            <div class="book-input-group">
              <label for="00N8c00000aEJoO">Adult Books (18 and Up)</label>
              <input id="00N8c00000aEJoO" name="00N8c00000aEJoO" type="text" />
            </div>
            <div class="book-input-group">
              <label for="00N8c00000aEJoT">Religious Books</label>
              <input id="00N8c00000aEJoT" name="00N8c00000aEJoT" type="text" />
            </div>
            <div class="book-input-group">
              <label for="00N8c00000aEJod">Activity Books</label>
              <input id="00N8c00000aEJod" name="00N8c00000aEJod" type="text" />
            </div>
            <div class="book-input-group">
              <label for="00N8c00000aEJoY">Free Bookmarks for Students</label>
              <input id="00N8c00000aEJoY" name="00N8c00000aEJoY" type="text" />
            </div>
          </div>

          <h2 class="section-title">Distribution Details</h2>

          <div class="form-group">
            <label for="00N8c00000aEJon">Additional Information</label>
            <textarea
              id="00N8c00000aEJon"
              name="00N8c00000aEJon"
              rows="3"
              placeholder="Anything else we should know about the books you are requesting?"
            ></textarea>
          </div>

          <div class="form-group">
            <label for="00N8c00000aEMWm"
              >How many children do you plan to serve with these books?*
              (Numbers only)</label
            >
            <input
              id="00N8c00000aEMWm"
              name="00N8c00000aEMWm"
              type="text"
              required
            />
          </div>

          <div class="form-group">
            <label for="00N8c00000aEMWr"
              >What will these books be used for?* (Hold Ctrl to select
              multiple)</label
            >
            <select name="00N8c00000aEMWr" multiple required>
              <option value="Building Home Libraries">
                Building Home Libraries
              </option>
              <option value="Classroom Libraries">Classroom Libraries</option>
              <option value="School Library Support">
                School Library Support
              </option>
              <option value="Book Giveaway">Book Giveaway</option>
              <option value="Literacy or Curriculum Night/Fair">
                Literacy or Curriculum Night/Fair
              </option>
              <option value="Summer Reading/Summer Slide">
                Summer Reading/Summer Slide
              </option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="00N8c00000aEJos"
              >How many books per child?* (Numbers only)</label
            >
            <input
              id="00N8c00000aEJos"
              name="00N8c00000aEJos"
              type="text"
              required
            />
          </div>

          <h2 class="section-title">Pickup & Distribution Schedule</h2>

          <div class="form-row">
            <div class="form-group">
              <label for="pickupDate"
                >Pickup Date* (Monday-Thursday only)</label
              >
              <input id="pickupDate" type="date" required />
            </div>
            <div class="form-group">
              <label for="pickupTime">Pickup Time* (9:30 AM - 3:30 PM)</label>
              <input
                id="pickupTime"
                type="time"
                min="09:30"
                max="15:30"
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label for="expectedDateInput"
              >Expected Book Distribution Date*</label
            >
            <input id="expectedDateInput" type="date" required />
          </div>

          <div class="form-group">
            <label for="00N8c00000aEJp2">Book Selection Type*</label>
            <select id="00N8c00000aEJp2" name="00N8c00000aEJp2" required>
              <option value="">--Select an option--</option>
              <option value="Self-Select">
                Self-Select (I'll choose my own books)
              </option>
              <option value="Pre-Boxed">
                Pre-Boxed (Staff will select books for me)
              </option>
            </select>
          </div>

          <button type="submit" class="submit-btn">Submit Request</button>
        </form>
      </div>
    </div>

    <script>
      function showAlert(msg) {
        const box = document.getElementById("customAlertBox");
        const text = document.getElementById("customAlertMsg");
        text.textContent = msg;
        box.style.display = "block";

        const overlay = document.createElement("div");
        overlay.id = "customAlertOverlay";
        document.body.appendChild(overlay);
      }

      function closeAlert() {
        const box = document.getElementById("customAlertBox");
        const overlay = document.getElementById("customAlertOverlay");
        box.style.display = "none";
        if (overlay) overlay.remove();
      }

      (function () {
        const form = document.getElementById("webToLeadForm");
        const pickupDate = document.getElementById("pickupDate");
        const pickupTime = document.getElementById("pickupTime");
        const pickupHidden = document.getElementById("pickupHidden");
        const pickupTimeHidden = document.getElementById("pickupTimeHidden");
        const expectedDateInput = document.getElementById("expectedDateInput");
        const expectedHidden = document.getElementById("expectedHidden");

        const today = new Date();
        const yyyy = today.getFullYear();
        const mm = String(today.getMonth() + 1).padStart(2, "0");
        const dd = String(today.getDate()).padStart(2, "0");
        const todayStr = `${yyyy}-${mm}-${dd}`;
        pickupDate.setAttribute("min", todayStr);
        expectedDateInput.setAttribute("min", todayStr);

        function validatePickupDate() {
          const value = pickupDate.value;
          if (!value || value.length !== 10) return;

          const [year, month, day] = value.split("-").map(Number);
          if (year < 1000) return;

          const chosen = new Date(year, month - 1, day, 12, 0, 0);
          const todayMidnight = new Date(
            today.getFullYear(),
            today.getMonth(),
            today.getDate()
          );
          const chosenMidnight = new Date(year, month - 1, day);

          if (chosenMidnight < todayMidnight) {
            showAlert("Pick-up date must be today or in the future.");
            pickupDate.value = "";
            return;
          }

          const dayOfWeek = chosen.getDay();
          if (dayOfWeek === 0 || dayOfWeek === 5 || dayOfWeek === 6) {
            showAlert("Pick-up days are Monday through Thursday only.");
            pickupDate.value = "";
          }
        }

        function validatePickupTime() {
          const timeVal = pickupTime.value;
          if (!timeVal || timeVal.length !== 5) return;

          const [hours, minutes] = timeVal.split(":").map(Number);
          const totalMinutes = hours * 60 + minutes;
          const minMinutes = 9 * 60 + 30;
          const maxMinutes = 15 * 60 + 30;

          if (totalMinutes < minMinutes || totalMinutes > maxMinutes) {
            showAlert("Pick-up time must be between 9:30 AM and 3:30 PM.");
            pickupTime.value = "";
          }
        }

        pickupDate.addEventListener("change", validatePickupDate);
        pickupDate.addEventListener("blur", validatePickupDate);
        pickupTime.addEventListener("change", validatePickupTime);
        pickupTime.addEventListener("blur", validatePickupTime);

        form.addEventListener("submit", function (e) {
          const dateVal = pickupDate.value;
          const timeVal = pickupTime.value;

          if (!dateVal || !timeVal) {
            e.preventDefault();
            showAlert("Please select both pickup date and time.");
            return;
          }

          const combined = new Date(`${dateVal}T${timeVal}`);
          const month = combined.getMonth() + 1;
          const day = combined.getDate();
          const year = combined.getFullYear();

          let hours = combined.getHours();
          const minutes = String(combined.getMinutes()).padStart(2, "0");
          const ampm = hours >= 12 ? "PM" : "AM";
          hours = hours % 12 || 12;

          pickupHidden.value = `${month}/${day}/${year}, ${hours}:${minutes} ${ampm}`;
          pickupTimeHidden.value = `${hours}:${minutes} ${ampm}`;

          const expectedVal = expectedDateInput.value;
          if (expectedVal) {
            const [eyear, emonth, eday] = expectedVal.split("-");
            expectedHidden.value = `${emonth}/${eday}/${eyear}`;
          }
        });
      })();
    </script>
  </body>
</html>
